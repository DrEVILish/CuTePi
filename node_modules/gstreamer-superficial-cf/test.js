const gstreamer = require('./');
const repl = require('repl');

const pipeline = new gstreamer.Pipeline('videotestsrc pattern=1 ! video/x-raw,format=AYUV,framerate=\(fraction\)30/1,width=100,height=100 !    videobox border-alpha=0 top=-70 bottom=-70 right=-220 ! compositor name=comp sink_0::alpha=0.7 sink_1::xpos=600 sink_2::xpos=200 !    videoconvert ! xvimagesink    videotestsrc !    video/x-raw,format=AYUV,framerate=\(fraction\)5/1,width=320,height=240 ! comp. autovideosrc ! video/x-raw,framerate=\(fraction\)30/1,width=320,height=240 ! comp.');

pipeline.play();

setTimeout(() => {
    const pad = pipeline.getPad('comp', 'sink_2');
    console.log(pad);
    global.pipeline = pipeline;
    global.pad = pad;
    repl.start({useGlobal: true});
  }, 2000);
